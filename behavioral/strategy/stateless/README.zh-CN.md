# Rust 策略模式实战：支付系统（动态分发）

## 一、业务背景

在电商系统中，不同用户或场景需要使用不同的支付方式：支付宝、微信、银行卡、积分等。  
传统做法往往是大量 `if-else` 判断，难以维护和扩展。

> 我们希望：**新增支付方式不修改原有业务逻辑，只需新增策略类即可**。

---

## 二、设计模式：策略模式

- **定义**：将算法/行为封装成独立策略类，并通过统一接口调用。
- **目的**：行为变化和业务分离，便于扩展和替换。
- **结构**：
  - strategy
    - Trait：定义统一接口 `PaymentStrategy`
    - Struct：具体支付方式（AliPay、WeChat）
  - factory
    - Factory：策略创建与缓存
  - order
    - OrderService：业务调用方，使用策略完成支付（动态分发）
    - OrderStaticService：泛型静态分发版本
  - bin
    - main.rs：测试入口，演示动态与静态策略的使用

---
